<WorkCell name="SDHInvKinScene">

<Frame name="BaseOff" />

<SerialDevice name="SE3Dev">
 <Frame name="Base" />
  
 <Joint name="Joint1" type="Prismatic">
  <RPY> 0 90 0</RPY> <Pos> 0 0 0</Pos>
 </Joint>
 <Joint name="Joint2" type="Prismatic">
  <RPY> 0 0 -90</RPY> <Pos> 0 0 0</Pos>
 </Joint>
 <Joint name="Joint3" type="Prismatic">
  <RPY> 0 -90 0 </RPY> <Pos> 0 0 0</Pos>
 </Joint>
 <Joint name="Joint4" type="Revolute">
  <RPY> 0 0 0 </RPY> <Pos> 0 0 0</Pos></Joint>
 <Joint name="Joint5" type="Revolute">
  <RPY> 0 90 0</RPY> <Pos> 0 0 0</Pos></Joint>
 <Joint name="Joint6" type="Revolute">
  <RPY> 0 0 90</RPY> <Pos> 0 0 0</Pos></Joint>
 
 <Frame name="TCP">
  <RPY> 0 -90 0</RPY> <Pos> 0 0 0</Pos>
 </Frame>

  
 <PosLimit refjoint="Joint1" min="-10" max="10" />
 <PosLimit refjoint="Joint2" min="-10" max="10" />
 <PosLimit refjoint="Joint3" min="-10" max="10" />
 <PosLimit refjoint="Joint4" min="-360" max="360" />
 <PosLimit refjoint="Joint5" min="-360" max="360" />
 <PosLimit refjoint="Joint6" min="-360" max="360" />

 <VelLimit refjoint="Joint1" max="1" />
 <VelLimit refjoint="Joint2" max="1" />
 <VelLimit refjoint="Joint3" max="1" />
 <VelLimit refjoint="Joint4" max="180" />
 <VelLimit refjoint="Joint5" max="180" />
 <VelLimit refjoint="Joint6" max="180" />
  
</SerialDevice>

<Frame name="Glue2" refframe="SE3Dev.TCP" />

<TreeDevice name="SchunkHand">
  <Frame name="Base" type="Movable" />
  
  <Frame name="BaseOff">
    <RPY> 0 0 0 </RPY> <Pos>0 0 0.056</Pos>
  </Frame>

  <Frame name="TCP" refframe="BaseOff">
    <RPY> 0 0 0 </RPY> <Pos>0 0 0.15</Pos>
  </Frame>

  <!-- Definition of a finger -->
  <Define id="finger">
    <Joint name="Joint2" type="Revolute">
     <RPY> 0 0 90 </RPY> <Pos> 0 0 0.0175</Pos></Joint>
    <Joint name="Joint3" type="Revolute">
     <RPY> 0 0 0 </RPY> <Pos> 0 0.086501 0</Pos></Joint>
    <!--Joint name="TCPExt" type="Revolute">
     <RPY> 0 -90 -10 </RPY> <Pos> -0.01 0.05 0</Pos></Joint-->
    <Frame name="TCPExt">
     <RPY> 0 -90 -10 </RPY> <Pos> -0.01 0.05 0</Pos></Frame>

    <Frame name="TCP" type="EndEffector" />
	
    <!-- Define limits -->
    <PosLimit refjoint="Joint2" min="-90" max="90" />
    <PosLimit refjoint="Joint3" min="-90" max="90" />
    <!--PosLimit refjoint="TCPExt" min="-180" max="180" /-->
    <VelLimit refjoint="Joint2" max="100" />
    <VelLimit refjoint="Joint3" max="100" />
	<!--VelLimit refjoint="TCPExt" max="100" /-->
    <AccLimit refjoint="Joint2" max="1000" />
    <AccLimit refjoint="Joint3" max="1000" />
	<!--AccLimit refjoint="TCPExt" max="1000" /-->
    
  </Define>
 
 <Frame name="f1" refframe="BaseOff" ></Frame>
 <Frame name="F1Base">
  <RPY> 0 0 0 </RPY> <Pos>0.038105 0 0.025</Pos></Frame>
 <SerialChain name="f1">
  <Use id="finger" />
 </SerialChain>

 <Frame name="f2" refframe="BaseOff">
  <RPY> 120 0 0 </RPY> <Pos>0 0 0</Pos></Frame>
 <Frame name="F2Base">
  <RPY> 60 0 0 </RPY> <Pos>0.038105 0 0.025</Pos></Frame>
 <Joint name="F2Joint1" type="Revolute">
  <RPY> 0 0 180 </RPY> <Pos> 0 0 0</Pos></Joint>
 <PosLimit refjoint="F2Joint1" min="0" max="90" />
 <VelLimit refjoint="F2Joint1" max="28" />
 <AccLimit refjoint="F2Joint1" max="100" />
 <Frame name="F2Joint1Rev">
  <RPY> 0 0 -180 </RPY> <Pos>0 0 0</Pos></Frame>

 <SerialChain name="f2">
  <Use id="finger" />
 </SerialChain>

 <Frame name="f3" refframe="BaseOff">
  <RPY> -120 0 0 </RPY> <Pos>0 0 0</Pos></Frame>
 <Frame name="F3Base">
  <RPY> -60 0 0 </RPY> <Pos>0.038105 0 0.025</Pos></Frame>
 <Joint name="F3Joint1" type="Revolute">
  <RPY> 0 0 180 </RPY> <Pos> 0 0 0</Pos>
  <Depend on="F2Joint1" gain="-1" offset="0" />
 </Joint>
 <Frame name="F3Joint1Rev">
  <RPY> 0 0 -180 </RPY> <Pos>0 0 0</Pos></Frame>
  
 <PosLimit refjoint="F3Joint1" min="-90" max="90" />
 <VelLimit refjoint="F3Joint1" max="28" />
 <AccLimit refjoint="F3Joint1" max="100" />
 <SerialChain name="f3">
  <Use id="finger" />
 </SerialChain>
 </TreeDevice>
 
 
 
 <Frame name="target1" type="Movable" />
 <Frame name="target2" type="Movable" />
 <Frame name="target3" type="Movable" />
 <Frame name="target4" type="Movable" />

</WorkCell>
